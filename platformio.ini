; PlatformIO Project Configuration File
; ESP32 Router Control System with ESP32-S3 Support and OTA

[platformio]
default_envs = esp32s3dev

; Original ESP32 Development Board Configuration
[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
upload_speed = 460800
monitor_filters = esp32_exception_decoder

; Essential libraries
lib_deps = 
    thomasfredericks/Bounce2 @ ^2.71
    madhephaestus/ESP32Servo @ ^3.0.8

; ESP32-S3 Development Board Configuration (Default)
[env:esp32s3dev]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino
monitor_speed = 115200
upload_speed = 921600
monitor_filters = esp32_exception_decoder

; ESP32-S3 specific settings
board_build.partitions = huge_app.csv
board_build.arduino.memory_type = qio_opi
board_build.f_flash = 80000000L
board_build.flash_mode = qio

; Essential libraries
lib_deps = 
    thomasfredericks/Bounce2 @ ^2.71
    madhephaestus/ESP32Servo @ ^3.0.8

; ESP32-S3 OTA Upload Environment
[env:esp32s3_ota]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; ESP32-S3 specific settings
board_build.partitions = huge_app.csv
board_build.arduino.memory_type = qio_opi
board_build.f_flash = 80000000L
board_build.flash_mode = qio

; OTA Upload Configuration
upload_protocol = espota
upload_port = 192.168.1.251  ; Update this with your ESP32-S3's IP address
upload_flags = 
    --port=3232

; Essential libraries
lib_deps = 
    thomasfredericks/Bounce2 @ ^2.71
    madhephaestus/ESP32Servo @ ^3.0.8

; Freenove ESP32-S3 Board Configuration
[env:freenove_esp32s3]
platform = espressif32
board = esp32-s3-devkitc-1  ; Use generic S3 board for Freenove
framework = arduino
monitor_speed = 115200
upload_speed = 921600
monitor_filters = esp32_exception_decoder

; ESP32-S3 optimized settings for Freenove
board_build.partitions = huge_app.csv
board_build.arduino.memory_type = qio_opi
board_build.f_flash = 80000000L
board_build.flash_mode = qio

; Essential libraries
lib_deps = 
    thomasfredericks/Bounce2 @ ^2.71
    madhephaestus/ESP32Servo @ ^3.0.8

; Freenove ESP32-S3 OTA Upload Environment
[env:freenove_esp32s3_ota]
platform = espressif32
board = esp32-s3-devkitc-1  ; Use generic S3 board for Freenove
framework = arduino
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; ESP32-S3 optimized settings for Freenove
board_build.partitions = huge_app.csv
board_build.arduino.memory_type = qio_opi
board_build.f_flash = 80000000L
board_build.flash_mode = qio

; OTA Upload Configuration
upload_protocol = espota
upload_port = 192.168.1.251  ; Update this with your ESP32-S3's IP address
upload_flags = 
    --port=3232

; Essential libraries
lib_deps = 
    thomasfredericks/Bounce2 @ ^2.71
    madhephaestus/ESP32Servo @ ^3.0.8 